{% extends "base_generic.html" %}

{% block title %}
    <title>{{ user.get_username }} Dashboard</title>
{% endblock %}

{% block content %}
    <div class="main-header">
        <h1>Portfolio</h1>
    </div>
    

    <table>
        <caption>
            List of user assets
        </caption>

        <thead>
            <th scope="col">Name</th>
            <th scope="col">Price</th>
            <th scope="col">Holdings</th>
            <th scope="col">Value</th>
        </thead>

        <tbody>
            {% for balance in user_balance_list %}
                <tr>
                    <th scope="row">{{ balance.name }}</th>
                    <th scope="row">{{ balance.latest_price }}</th>
                    <th scope="row">{{ balance.latest_holding }}</th>
                    <th scope="row">{{ balance.latest_value }}</th>
                </tr>
            {% endfor %}
        </tbody>
    </table>


    <table>
        <caption>
            Portfolio value history
        </caption>

        <thead>
            <th scope="col">Date</th>
            <th scope="col">Value</th>
        </thead>

        <tbody>
            {% for total_balance in user_total_balance_history %}
                <tr>
                    <th scope="row">{{ total_balance.date }}</th>
                    <th scope="row">{{ total_balance.values }}</th>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    
{% endblock %}